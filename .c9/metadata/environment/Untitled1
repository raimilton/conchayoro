{"changed":true,"filter":false,"title":"Untitled1","tooltip":"/Untitled1","value":"name: pipeline-deploy-s3\non:\n  push:\n    branches: [ main ]\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    - run: sudo apt-get install pandoc\n    - run: pandoc README.md -f markdown -t html -s -o index.html\n    - run: ls -la\n    - uses: actions/upload-artifact@v4\n      with:\n        name: site\n        path: index.html\n  \n  \n  deploy:\n    runs-on: ubuntu-latest\n    needs: build\n    env:\n      AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n      AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n      AWS_SESSION_TOKEN: ${{ secrets.AWS_SESSION_TOKEN }}\n      AWS_EC2_METADATA_DISABLED: true\n      BUCKET_S3: ${{ vars.BUCKET_S3 }}\n    steps:\n    - uses: actions/download-artifact@v4\n      with:\n        name: site \n        path: index.html\n    - run: ls -la\n    - run: aws s3 cp index.html s3://$BUCKET_S3 --recursive --acl public-read","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":33,"column":77},"action":"insert","lines":["name: pipeline-deploy-s3","on:","  push:","    branches: [ main ]","jobs:","  build:","    runs-on: ubuntu-latest","    steps:","    - uses: actions/checkout@v4","    - run: sudo apt-get install pandoc","    - run: pandoc README.md -f markdown -t html -s -o index.html","    - run: ls -la","    - uses: actions/upload-artifact@v4","      with:","        name: site","        path: index.html","  ","  ","  deploy:","    runs-on: ubuntu-latest","    needs: build","    env:","      AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}","      AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","      AWS_SESSION_TOKEN: ${{ secrets.AWS_SESSION_TOKEN }}","      AWS_EC2_METADATA_DISABLED: true","      BUCKET_S3: ${{ vars.BUCKET_S3 }}","    steps:","    - uses: actions/download-artifact@v4","      with:","        name: site ","        path: index.html","    - run: ls -la","    - run: aws s3 cp index.html s3://$BUCKET_S3 --recursive --acl public-read"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":33,"column":77},"end":{"row":33,"column":77},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1733752091879}